<?xml version="1.0" encoding="UTF-8"?>
<!--
@category    Mana
@package     Mana_Seo
@copyright   Copyright (c) http://www.manadev.com
@license     http://www.manadev.com/license  Proprietary License
 -->
<config>
    <modules>
        <mana_seo version="13.04.18.07">
            <installer_versions>
                <v13.04.18.07>13.01.21.22</v13.04.18.07>
                <v13.05.11.13>13.01.21.22</v13.05.11.13>
                <v13.05.19.08>13.01.21.22</v13.05.19.08>
            </installer_versions>
            <entities>
                <schema>
                    <max_defaultable_fields>60</max_defaultable_fields>
                    <fields>
                        <symbols>
                            <type>mediumtext</type>
                            <no>5</no>
                            <default_value><![CDATA[{
                                ["symbol": "\"", "substitute": ""],
                                ["symbol": "_", "substitute": "-"],
                                ["symbol": "'", "substitute": ""],
                                ["symbol": "%", "substitute": ""],
                                ["symbol": "#", "substitute": ""],
                                ["symbol": "&", "substitute": "+"],
                                ["symbol": " ", "substitute": "-"]
                            }]]></default_value>
                        </symbols>
                        <status><type>varchar(10)</type><default_value>obsolete</default_value><no>7</no><indexed /></status>
                        <name version="13.05.11.13"><type>varchar(80)</type><no>8</no></name>
                        <internal_name version="13.05.11.13"><type>varchar(20)</type><no>9</no><indexed /></internal_name>
                        <redirect_parameter_order version="13.05.19.08"><type>tinyint</type><no>12</no><default_value>1</default_value></redirect_parameter_order>
                        <use_filter_labels version="13.05.19.08"><type>tinyint</type><no>4</no><default_value>1</default_value></use_filter_labels>
                        <include_filter_name version="13.05.19.08"><type>varchar(20)</type><no>10</no><default_value>if-necessary</default_value></include_filter_name>
                    </fields>
                    <scopes>
                        <global/>
                        <flat>
                            <flattens>mana_seo/schema/global</flattens>
                            <formula>
                                <base>
                                    <from>
                                        <primary/>
                                    </from>
                                </base>
                            </formula>
                        </flat>
                        <store>
                            <store_specifics_for>mana_seo/schema/global</store_specifics_for>
                        </store>
                        <store_flat>
                            <flattens>mana_seo/schema/store</flattens>
                            <formula>
                                <base>
                                    <from>
                                        <global>
                                            <entity>mana_seo/schema/flat</entity>
                                        </global>
                                        <store>
                                            <entity>core/store</entity>
                                        </store>
                                    </from>
                                    <join>
                                        <primary>
                                            <type>left</type>
                                            <on>{{= primary.global_id }} = {{= global.id }} AND {{= primary.store_id }} = {{= store.store_id }}</on>
                                        </primary>
                                    </join>
                                    <where><![CDATA[{{= store.code}} <> 'admin']]></where>
                                </base>
                            </formula>
                            <fields>
                                <symbols><default_formula>{{= global.symbols}}</default_formula></symbols>
                                <status><default_formula>{{= global.status}}</default_formula></status>
                                <name version="13.05.11.13"><default_formula>{{= global.name}}</default_formula></name>
                                <internal_name version="13.05.11.13"><default_formula>{{= global.internal_name}}</default_formula></internal_name>
                                <redirect_parameter_order version="13.05.19.08"><default_formula>{{= global.redirect_parameter_order}}</default_formula></redirect_parameter_order>
                                <use_filter_labels version="13.05.19.08"><default_formula>{{= global.use_filter_labels}}</default_formula></use_filter_labels>
                                <include_filter_name version="13.05.19.08"><default_formula>{{= global.include_filter_name}}</default_formula></include_filter_name>
                            </fields>
                        </store_flat>
                    </scopes>
                </schema>
                <url>
                    <unique>
                        <primary>
                            <type/>
                            <store_id/>
                            <unique_key/>
                        </primary>
                    </unique>
                    <fields>
                        <url_key><type>varchar(255)</type><indexed /></url_key>
                        <permanent_url_key><type>varchar(255)</type><nullable /><indexed /></permanent_url_key>
                        <unique_key><type>varchar(255)</type><indexed /></unique_key>
                        <type><type>varchar(80)</type><indexed /></type>
                        <always_use_parameter><type>tinyint</type><indexed /><default_value>0</default_value></always_use_parameter>
                        <status><type>varchar(10)</type><indexed /><default_value>obsolete</default_value><no>7</no></status>
                        <store_id>
                            <type>smallint(5) unsigned</type>
                            <foreign>
                                <entity>core/store</entity>
                                <field>store_id</field>
                                <on_update>cascade</on_update>
                                <on_delete>cascade</on_delete>
                            </foreign>
                        </store_id>
                        <schema_id>
                            <type>bigint</type>
                            <nullable>1</nullable>
                            <foreign>
                                <entity>mana_seo/schema/store_flat</entity>
                                <field>id</field>
                                <on_update>cascade</on_update>
                                <on_delete>cascade</on_delete>
                            </foreign>
                        </schema_id>
                        <category_id>
                            <type>int(10) unsigned</type>
                            <nullable>1</nullable>
                            <foreign>
                                <entity>catalog/category</entity>
                                <field>entity_id</field>
                                <on_update>cascade</on_update>
                                <on_delete>cascade</on_delete>
                            </foreign>
                        </category_id>
                        <cms_page_id>
                            <type>smallint(6)</type>
                            <nullable>1</nullable>
                            <foreign>
                                <entity>cms/page</entity>
                                <field>page_id</field>
                                <on_update>cascade</on_update>
                                <on_delete>cascade</on_delete>
                            </foreign>
                        </cms_page_id>
                        <attribute_id>
                            <type>smallint(5) unsigned</type>
                            <nullable>1</nullable>
                            <foreign>
                                <entity>eav/attribute</entity>
                                <field>attribute_id</field>
                                <on_update>cascade</on_update>
                                <on_delete>cascade</on_delete>
                            </foreign>
                        </attribute_id>
                        <option_id>
                            <type>int(10) unsigned</type>
                            <nullable>1</nullable>
                            <foreign>
                                <entity>eav/attribute_option</entity>
                                <field>option_id</field>
                                <on_update>cascade</on_update>
                                <on_delete>cascade</on_delete>
                            </foreign>
                        </option_id>
                    </fields>
                </url>
                <urlHistory>
                    <fields>
                        <url_key><type>varchar(255)</type><indexed /></url_key>
                        <type><type>varchar(40)</type><indexed /></type>
                        <redirect_to><type>varchar(255)</type><indexed /></redirect_to>
                        <store_id>
                            <type>smallint(5) unsigned</type>
                            <foreign>
                                <entity>core/store</entity>
                                <field>store_id</field>
                                <on_update>cascade</on_update>
                                <on_delete>cascade</on_delete>
                            </foreign>
                        </store_id>
                    </fields>
                </urlHistory>
            </entities>
        </mana_seo>
    </modules>
</config>