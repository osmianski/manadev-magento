/**
 * @category    Mana
 * @package     Mana_Sorting
 * @copyright   Copyright (c) http://www.manadev.com
 * @license     http://www.manadev.com/license  Proprietary License
 */
Mana.define("Mana/Sorting/Method/ListContainer",["jquery","Mana/Admin/Container"],function(t,e){return e.extend("Mana/Sorting/Method/ListContainer",{_subscribeToBlockEvents:function(){return this._super().on("load",this,function(){this.getChild("create-method")&&this.getChild("create-method").on("click",this,this.createMethod)}).on("unload",this,function(){this.getChild("create-method")&&this.getChild("create-method").off("click",this,this.createMethod)})},createMethod:function(){setLocation(this.getUrl("create-method"))}})}),Mana.define("Mana/Sorting/Method/TabContainer",["jquery","Mana/Admin/Container","singleton:Mana/Admin/Expression"],function(t,e,i){return e.extend("Mana/Sorting/Method/TabContainer",{_subscribeToHtmlEvents:function(){return this._super().on("bind",this,function(){}).on("unbind",this,function(){})},_subscribeToBlockEvents:function(){var e=this;return this._super().on("load",this,function(){this.updateAttributes(),this.getChild("delete")&&this.getChild("delete").on("click",this,this.deleteRecord),t.each(this.getFields(),function(t){var i=e.getField(t);i&&i.on("change",e,e.fieldChanged)})}).on("unload",this,function(){this.getChild("delete")&&this.getChild("delete").off("click",this,this.deleteRecord),t.each(this.getFields(),function(t){var i=e.getField(t);i&&i.on("change",e,e.fieldChanged)})})},deleteRecord:function(){deleteConfirm(this.getText("delete-confirm"),this.getUrl("delete"))},fieldChanged:function(t){function e(t){for(var e=t.split("_"),i=0;i<e.length;i++)e[i]=e[i].charAt(0).toUpperCase()+e[i].slice(1).toLowerCase();return e.join("")}var i=t.target.getName(),n=e(i),a="update"+n,o="useDefault"+n;"function"==typeof this[a]&&this[a](),"function"==typeof this[o]?this[o](i):this.defaultUseDefaultProcess(i)},defaultUseDefaultProcess:function(t){var e=this.getField(t);e.useDefault()&&e.setValue(this.getJsonData("global",t))},updateTitle:function(){this.useDefaultUrlKey()},useDefaultTitle:function(){this.defaultUseDefaultProcess("title"),this.useDefaultUrlKey()},useDefaultUrlKey:function(){var t=this.getField("url_key"),e=this.getField("title").getValue(),n=i.seoify(e);"undefined"!=typeof t&&t.useDefault()&&t.setValue(n)},getAttrCount:function(){return 5},updateAttributeId0:function(){this.updateAttributes()},updateAttributeId1:function(){this.updateAttributes()},updateAttributeId2:function(){this.updateAttributes()},updateAttributeId3:function(){this.updateAttributes()},updateAttributeId4:function(){this.updateAttributes()},updateAttributes:function(){var e,i,n,a=-1,o={};for(e=0;e<this.getAttrCount();e++)i=this.getField("attribute_id_"+e),(n=i.getValue())&&(a=e,o[n]=i);for(e=0;e<this.getAttrCount();e++)i=this.getField("attribute_id_"+e),e>a+1?(i.$().hide(),this.getField("attribute_id_"+e+"_sortdir").$().hide()):(i.$().show(),this.getField("attribute_id_"+e+"_sortdir").$().show()),""==i.getValue()&&this.getField("attribute_id_"+e+"_sortdir").$().hide(),i.$field().find("option").each(function(){(n=t(this).val())?void 0!==o[n]&&o[n]!=i?t(this).hide():t(this).show():a>e?t(this).hide():t(this).show()})}})}),Mana.define("Mana/Sorting/Method/TabContainer/Global",["jquery","Mana/Sorting/Method/TabContainer"],function(t,e){return e.extend("Mana/Sorting/Method/TabContainer/Global",{})}),Mana.define("Mana/Sorting/Method/TabContainer/Store",["jquery","Mana/Sorting/Method/TabContainer","singleton:Mana/Admin/Expression"],function(t,e,i){return e.extend("Mana/Sorting/Method/TabContainer/Store",{useDefaultUrlKey:function(){var t=this.getField("url_key");if(t.useDefault())if(this.getJsonData("global-is-custom","url_key"))t.setValue(this.getJsonData("global","url_key"));else{var e=this.getField("title").getValue(),n=i.seoify(e);t.setValue(n)}}})});